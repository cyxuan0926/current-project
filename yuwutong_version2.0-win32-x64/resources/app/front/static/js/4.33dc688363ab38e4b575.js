webpackJsonp([4],{O6J1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("34v0"),r=n.n(o),l=n("EcfS"),i={data:function(){return{fileList:[],prisonerHref:this._$baseURL+"/download/downloadfile?filepath=prison_template.xls"}},watch:{uploadResult:function(e){this.importPrisoner({filepath:e.path})},prisonerResult:function(e){this.alertInformation(e)}},computed:r()({},Object(l.c)({prisonerResult:"prisonerResult",uploadResult:"uploadResult",prisoners:"prisoners"})),methods:r()({},Object(l.b)({importPrisoner:"importPrisoner",uploadFile:"uploadFile"}),Object(l.d)({resetPrisoners:"resetPrisoners"}),{submitUpload:function(){this.$refs.upload.submit()},beforeUpload:function(e){return this.uploadFile(e),!1},alertInformation:function(e){this.$notify({title:"解析结果提示",dangerouslyUseHTMLString:!0,message:"<p>新增："+e.add_total+"</p>\n                  <p>成功："+e.success_total+"</p>\n                  <p>修改："+e.update_total+"</p>",duration:5e3,offset:100})}}),mounted:function(){this.resetPrisoners()}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{gutter:0,id:"prisoner-import-index"}},[n("el-row",{staticClass:"download-box",attrs:{gutter:0}},[n("el-col",{attrs:{span:22,offset:2}},[n("span",[e._v("点击下载模板：")]),e._v(" "),n("a",{attrs:{href:e.prisonerHref}},[e._v("罪犯信息导入模板")])])],1),e._v(" "),n("el-row",{staticClass:"title-box",attrs:{gutter:0}},[n("el-col",{attrs:{span:22,offset:2}},[n("p",[e._v("上传模板文件：")]),e._v(" "),n("p",[e._v("限制文件后缀名为\n        "),n("el-tag",{attrs:{type:"danger"}},[e._v(".xls")])],1)])],1),e._v(" "),n("el-row",{attrs:{gutter:0}},[n("el-col",{attrs:{span:6,offset:1}},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e._$agency+"/prisoners/upload","before-upload":e.beforeUpload,"file-list":e.fileList,"auto-upload":!1,limit:1,accept:".xls"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.xls文件")])],1)],1)],1),e._v(" "),e.prisoners.length?n("el-row",[n("el-table",{attrs:{data:e.prisoners}},[n("el-table-column",{attrs:{label:"罪犯编号",prop:"prisonerNumber"}}),e._v(" "),n("el-table-column",{attrs:{label:"罪犯名字",prop:"name"}}),e._v(" "),n("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("gender")(t.row.gender))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"犯罪事实",prop:"crimes"}}),e._v(" "),n("el-table-column",{attrs:{label:"附加刑",prop:"additionalPunishment"}}),e._v(" "),n("el-table-column",{attrs:{label:"现刑期起日"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("Date")(t.row.prisonTermStartedAt))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"现刑期止日"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("Date")(t.row.prisonTermEndedAt))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"地区",prop:"prisonArea"}}),e._v(" "),n("el-table-column",{attrs:{label:"原判刑期",prop:"originalSentence"}}),e._v(" "),n("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("Date")(t.row.createdAt))+"\n        ")]}}])})],1)],1):e._e()],1)},staticRenderFns:[]};var a=n("Aizv")(i,s,!1,function(e){n("djQM")},null,null);t.default=a.exports},djQM:function(e,t,n){var o=n("m+I7");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("bUva")("0148c693",o,!0,{})},"m+I7":function(e,t,n){(e.exports=n("yKCJ")(!0)).push([e.i,"\n#prisoner-import-index {\n  min-height: 370px;\n}\n#prisoner-import-index .download-box {\n  margin-top: 35px;\n}\n#prisoner-import-index .title-box {\n  margin-top: 30px;\n}\n#prisoner-import-index /deep/ .upload-demo {\n  margin-bottom: 45px;\n}\n#prisoner-import-index /deep/ .upload-demo > .el-button {\n  margin-top: 20px;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload {\n  margin-right: 60%;\n  margin-top: 15px;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload .el-button {\n  float: left;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload input[type=file] {\n  display: none;\n}","",{version:3,sources:["E:/Project/狱务通重构/yuwutong_version2.0/src/views/prisoner-data/data-import.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,YAAY;CACb;AACD;EACE,cAAc;CACf",file:"data-import.vue",sourcesContent:["\n#prisoner-import-index {\n  min-height: 370px;\n}\n#prisoner-import-index .download-box {\n  margin-top: 35px;\n}\n#prisoner-import-index .title-box {\n  margin-top: 30px;\n}\n#prisoner-import-index /deep/ .upload-demo {\n  margin-bottom: 45px;\n}\n#prisoner-import-index /deep/ .upload-demo > .el-button {\n  margin-top: 20px;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload {\n  margin-right: 60%;\n  margin-top: 15px;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload .el-button {\n  float: left;\n}\n#prisoner-import-index /deep/ .upload-demo .el-upload input[type=file] {\n  display: none;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=4.33dc688363ab38e4b575.js.map