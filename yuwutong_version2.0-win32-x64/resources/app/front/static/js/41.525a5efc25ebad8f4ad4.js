webpackJsonp([41],{"0kEk":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("34v0"),a=r.n(s),l=r("EcfS"),n={data:function(){return{prisonerRewardHref:this._$baseURL+"/download/downloadfile?filepath=prisoner_reward_punishment_template.xls",fileList:[]}},watch:{uploadResult:function(t){this.importPrisonerRewardPunishment({filepath:t.path})},prisonerRewardPunishmentResult:function(t){this.alertInformation(t)}},computed:a()({},Object(l.c)({prisonerRewardPunishmentResult:"prisonerRewardPunishmentResult",uploadResult:"uploadResult",prisonerRewardPunishments:"prisonerRewardPunishments"})),methods:a()({},Object(l.b)({importPrisonerRewardPunishment:"importPrisonerRewardPunishment",uploadFile:"uploadFile"}),Object(l.d)({resetPrisonerRewardPunishments:"resetPrisonerRewardPunishments"}),{beforeUpload:function(t){return this.uploadFile(t),!1},submitUpload:function(){this.$refs.upload.submit()},alertInformation:function(t){this.$notify({title:"解析结果提示",dangerouslyUseHTMLString:!0,message:"<p>新增："+t.add_total+"</p>\n                  <p>成功："+t.success_total+"</p>\n                  <p>修改："+t.update_total+"</p>",duration:5e3,offset:100})}}),mounted:function(){this.resetPrisonerRewardPunishments()}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{attrs:{gutter:0,id:"prisoner-import-index"}},[r("el-row",{staticClass:"download-box",attrs:{gutter:0}},[r("el-col",{attrs:{span:22,offset:2}},[r("span",[t._v("点击下载模板：")]),t._v(" "),r("a",{attrs:{href:t.prisonerRewardHref}},[t._v("罪犯奖惩信息导入模板")])])],1),t._v(" "),r("el-row",{staticClass:"title-box",attrs:{gutter:0}},[r("el-col",{attrs:{span:22,offset:2}},[r("p",[t._v("上传模板文件：")]),t._v(" "),r("p",[t._v("限制文件后缀名为\n        "),r("el-tag",{attrs:{type:"danger"}},[t._v(".xls")])],1)])],1),t._v(" "),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:6,offset:1}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t._$agency+"/prisoner_reward_punishment/upload","before-upload":t.beforeUpload,"file-list":t.fileList,"auto-upload":!1,limit:1,accept:".xls"}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xls文件")])],1)],1)],1),t._v(" "),t.prisonerRewardPunishments.length?r("el-row",[r("el-table",{attrs:{data:t.prisonerRewardPunishments}},[r("el-table-column",{attrs:{label:"罪犯编号",prop:"prisonerNumber"}}),t._v(" "),r("el-table-column",{attrs:{label:"罪犯名字",prop:"prisonerName"}}),t._v(" "),r("el-table-column",{attrs:{label:"年份",prop:"datayear"}}),t._v(" "),r("el-table-column",{attrs:{label:"奖惩内容",prop:"ndry"}}),t._v(" "),r("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("Date")(e.row.createdAt))+"\n        ")]}}])})],1)],1):t._e()],1)},staticRenderFns:[]},i=r("Aizv")(n,o,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=41.525a5efc25ebad8f4ad4.js.map