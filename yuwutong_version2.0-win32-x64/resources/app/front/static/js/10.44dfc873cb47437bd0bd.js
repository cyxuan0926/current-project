webpackJsonp([10],{OI0d:function(e,t,s){(e.exports=s("yKCJ")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"advertisement-add.vue",sourceRoot:""}])},o4tF:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Edqs"),r=s.n(a),n=s("34v0"),i=s.n(n),l=s("EcfS"),o={data:function(){return{gettingType:!0,gettingProvince:!0,advertisement:{},rules:{name:[{required:!0,message:"请填写广告名称"}],typeId:[{required:!0,message:"请选择广告类型"}],time:[{required:!0,message:"请选择广告有效时间"}],imageUrl:[{required:!0,message:"请上传广告图片"}],status:[{required:!0,message:"请选择是否上架"}]}}},computed:i()({},Object(l.e)(["advertisementTypes","provincesAll"])),mounted:function(){var e=this;this.getAdvertisementTypes().then(function(){e.gettingType=!1}),this.getProvincesAll().then(function(){e.gettingProvince=!1})},methods:i()({},Object(l.b)(["addAdvertisement","getAdvertisementTypes","getProvincesAll"]),{onSubmit:function(e){var t=this;this.$refs.form.validate(function(e){if(e){var s=r()({},t.advertisement);delete s.time,t.addAdvertisement(s).then(function(e){e&&t.$router.push("/advertisement/list")})}})},onTimeRangeChange:function(e){e?(this.advertisement.startDate=e[0],this.advertisement.endDate=e[1]):(this.advertisement.startDate="",this.advertisement.endDate="")},onSuccess:function(e){this.advertisement.imageUrl=e}})},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"page-edit",attrs:{gutter:0}},[s("el-col",{attrs:{span:13,offset:5}},[s("el-form",{ref:"form",attrs:{model:e.advertisement,"label-position":"top",rules:e.rules}},[s("el-form-item",{attrs:{label:"广告名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请填写广告名称"},model:{value:e.advertisement.name,callback:function(t){e.$set(e.advertisement,"name",t)},expression:"advertisement.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"广告类型",prop:"typeId"}},[s("el-select",{attrs:{loading:e.gettingType,placeholder:"请选择广告类型"},model:{value:e.advertisement.typeId,callback:function(t){e.$set(e.advertisement,"typeId",t)},expression:"advertisement.typeId"}},e._l(e.advertisementTypes,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"广告有效时间",prop:"time"}},[s("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"广告开始生效时间","end-placeholder":"广告截止生效时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},on:{change:e.onTimeRangeChange},model:{value:e.advertisement.time,callback:function(t){e.$set(e.advertisement,"time",t)},expression:"advertisement.time"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"省份",prop:"provinceId"}},[s("el-select",{attrs:{filterable:"",loading:e.gettingProvince,placeholder:"请选择省份"},model:{value:e.advertisement.provinceId,callback:function(t){e.$set(e.advertisement,"provinceId",t)},expression:"advertisement.provinceId"}},e._l(e.provincesAll,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"是否上架",prop:"status"}},[s("el-radio-group",{model:{value:e.advertisement.status,callback:function(t){e.$set(e.advertisement,"status",t)},expression:"advertisement.status"}},[s("el-radio",{attrs:{label:1}},[e._v("上架")]),e._v(" "),s("el-radio",{attrs:{label:0}},[e._v("不上架")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"广告图片",prop:"imageUrl"}},[s("m-upload-img",{on:{success:e.onSuccess}})],1)],1),e._v(" "),s("el-button",{staticClass:"submit",attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("新增")])],1)],1)},staticRenderFns:[]};var m=s("Aizv")(o,d,!1,function(e){s("zr04")},null,null);t.default=m.exports},zr04:function(e,t,s){var a=s("OI0d");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("bUva")("45187bcc",a,!0,{})}});
//# sourceMappingURL=10.44dfc873cb47437bd0bd.js.map