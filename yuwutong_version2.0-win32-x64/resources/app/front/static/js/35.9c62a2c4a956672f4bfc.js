webpackJsonp([35],{"LE8/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("34v0"),n=i.n(o),s=i("EcfS"),r={data:function(){return{formItem:{provincesId:{getting:!0},citysId:{disabled:!0,getting:!0}},rules:{title:[{required:!0,message:"请输入监狱名称"}],description:[{required:!0,message:"请输入监狱简介"}],provincesId:[{required:!0,message:"请输入监狱所在省"}],citysId:[{required:!0,message:"请输入监狱所在市"}],imageUrl:[{required:!0,message:"请上传监狱图片"}]}}},computed:n()({},Object(s.e)(["jailsInformation","provincesAll"])),mounted:function(){var e=this;this.getJailsInformation().then(function(){e.getProvincesAll().then(function(){e.getCities(e.jailsInformation.provincesId).then(function(t){e.formItem.citysId.getting=!1,e.formItem.citysId.disabled=!1})}),e.formItem.provincesId.getting=!1})},methods:n()({},Object(s.b)(["getJailsInformation","editJails","getProvincesAll","getCities"]),{onSubmit:function(e){var t=this;this.$refs.form.validate(function(e){e&&t.editJails(t.jailsInformation).then(function(e){e&&t.$router.push("/jails/detail")})})},onProvinceChange:function(e){var t=this;this.formItem.citysId.getting=!0,this.jailsInformation.citysId="",e&&this.getCities(e).then(function(e){t.formItem.citysId.getting=!1,t.formItem.citysId.disabled=!1})},editorChange:function(e,t){this.jailsInformation.description=e},onSuccess:function(e){this.jailsInformation.imageUrl=e}})},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{attrs:{id:"jail-editor",gutter:0}},[i("el-col",{attrs:{span:13,offset:5}},[i("el-form",{ref:"form",attrs:{model:e.jailsInformation,"label-position":"top",rules:e.rules}},[i("el-form-item",{attrs:{label:"监狱名称",prop:"title"}},[i("el-input",{attrs:{placeholder:"请填写监狱名称"},model:{value:e.jailsInformation.title,callback:function(t){e.$set(e.jailsInformation,"title",t)},expression:"jailsInformation.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱简介",prop:"description"}},[i("m-quill-editor",{attrs:{contents:e.jailsInformation.description},on:{editorChange:e.editorChange}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所在省",prop:"provincesId"}},[i("el-select",{attrs:{loading:e.formItem.provincesId.getting,placeholder:"请选择所在省名称"},on:{change:e.onProvinceChange},model:{value:e.jailsInformation.provincesId,callback:function(t){e.$set(e.jailsInformation,"provincesId",t)},expression:"jailsInformation.provincesId"}},e._l(e.provincesAll,function(e,t){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"所在市",prop:"citysId"}},[i("el-select",{attrs:{disabled:e.formItem.citysId.disabled,loading:e.formItem.citysId.getting,placeholder:"请选择所在市名称"},model:{value:e.jailsInformation.citysId,callback:function(t){e.$set(e.jailsInformation,"citysId",t)},expression:"jailsInformation.citysId"}},e._l(e.$store.state.cities,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"街道",prop:"street"}},[i("el-input",{attrs:{placeholder:"请填写街道名称"},model:{value:e.jailsInformation.street,callback:function(t){e.$set(e.jailsInformation,"street",t)},expression:"jailsInformation.street"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱邮编",prop:"zipcode"}},[i("el-input",{attrs:{placeholder:"请填写监狱邮编"},model:{value:e.jailsInformation.zipcode,callback:function(t){e.$set(e.jailsInformation,"zipcode",t)},expression:"jailsInformation.zipcode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱图片",prop:"imageUrl"}},[i("m-upload-img",{attrs:{url:e.jailsInformation.imageUrl},on:{success:e.onSuccess}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("更新")])],1)],1)],1)],1)},staticRenderFns:[]};var l=i("Aizv")(r,a,!1,function(e){i("x+rQ")},null,null);t.default=l.exports},"c+Jh":function(e,t,i){(e.exports=i("yKCJ")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"jails-base-information-edit.vue",sourceRoot:""}])},"x+rQ":function(e,t,i){var o=i("c+Jh");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("bUva")("0fc61330",o,!0,{})}});
//# sourceMappingURL=35.9c62a2c4a956672f4bfc.js.map