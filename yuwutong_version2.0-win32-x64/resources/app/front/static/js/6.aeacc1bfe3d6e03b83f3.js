webpackJsonp([6],{ZADA:function(e,t,i){(e.exports=i("yKCJ")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"prison-add.vue",sourceRoot:""}])},"cjO/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("34v0"),l=i.n(s),r=i("EcfS"),o={data:function(){return{formItem:{provincesId:{getting:!0},citysId:{disabled:!0,getting:!0}},rules:{title:[{required:!0,message:"请输入监狱名称"}],description:[{required:!0,message:"请输入监狱简介"}],provincesId:[{required:!0,message:"请输入监狱所在省"}],citysId:[{required:!0,message:"请输入监狱所在市"}],imageUrl:[{required:!0,message:"请上传监狱图片"}]},jails:{citysId:""}}},mounted:function(){var e=this;this.getProvincesAll().then(function(){e.formItem.provincesId.getting=!1})},methods:l()({},Object(r.b)(["addJails","getProvincesAll","getCities"]),{onSubmit:function(e){var t=this;this.$refs.form.validate(function(e){e&&t.addJails(t.jails).then(function(e){e&&t.$router.push("/prison/list")})})},onProvinceChange:function(e){var t=this;this.formItem.citysId.getting=!0,this.jails.citysId="",e&&this.getCities(e).then(function(e){t.formItem.citysId.getting=!1,t.formItem.citysId.disabled=!1})},editorChange:function(e,t){this.jails.description=e},onSuccess:function(e){this.jails.imageUrl=e}})},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{attrs:{gutter:0}},[i("el-col",{attrs:{span:13,offset:5}},[i("el-form",{ref:"form",attrs:{model:e.jails,"label-position":"top",rules:e.rules}},[i("el-form-item",{attrs:{label:"监狱名称",prop:"title"}},[i("el-input",{attrs:{placeholder:"请填写监狱名称"},model:{value:e.jails.title,callback:function(t){e.$set(e.jails,"title",t)},expression:"jails.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱简介",prop:"description"}},[i("m-quill-editor",{on:{editorChange:e.editorChange}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所在省",prop:"provincesId"}},[i("el-select",{attrs:{loading:e.formItem.provincesId.getting,placeholder:"请选择所在省名称"},on:{change:e.onProvinceChange},model:{value:e.jails.provincesId,callback:function(t){e.$set(e.jails,"provincesId",t)},expression:"jails.provincesId"}},e._l(e.$store.state.provincesAll,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"所在市",prop:"citysId"}},[i("el-select",{attrs:{disabled:e.formItem.citysId.disabled,loading:e.formItem.citysId.getting,placeholder:"请选择所在市名称"},model:{value:e.jails.citysId,callback:function(t){e.$set(e.jails,"citysId",t)},expression:"jails.citysId"}},e._l(e.$store.state.cities,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"街道",prop:"street"}},[i("el-input",{attrs:{placeholder:"请填写街道名称"},model:{value:e.jails.street,callback:function(t){e.$set(e.jails,"street",t)},expression:"jails.street"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱邮编",prop:"zipcode"}},[i("el-input",{attrs:{placeholder:"请填写监狱邮编"},model:{value:e.jails.zipcode,callback:function(t){e.$set(e.jails,"zipcode",t)},expression:"jails.zipcode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"监狱图片",prop:"imageUrl"}},[i("m-upload-img",{on:{success:e.onSuccess}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("新增")])],1)],1)],1)],1)},staticRenderFns:[]};var n=i("Aizv")(o,a,!1,function(e){i("jTqC")},null,null);t.default=n.exports},jTqC:function(e,t,i){var s=i("ZADA");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i("bUva")("087f4a4e",s,!0,{})}});
//# sourceMappingURL=6.aeacc1bfe3d6e03b83f3.js.map