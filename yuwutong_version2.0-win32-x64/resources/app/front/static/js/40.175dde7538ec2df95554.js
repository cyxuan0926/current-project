webpackJsonp([40],{RxBp:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=l("34v0"),r=l.n(s),o=l("EcfS"),a={data:function(){return{prisonTermHref:this._$baseURL+"/download/downloadfile?filepath=prison_term_template.xls",fileList:[]}},watch:{uploadResult:function(t){this.importPrisonTerm({filepath:t.path})},prisonTermResult:function(t){this.alertInformation(t)}},computed:r()({},Object(o.c)({prisonTermResult:"prisonTermResult",uploadResult:"uploadResult",prisonTerms:"prisonTerms"})),methods:r()({},Object(o.b)({importPrisonTerm:"importPrisonTerm",uploadFile:"uploadFile"}),Object(o.d)({resetPrisonTerms:"resetPrisonTerms"}),{beforeUpload:function(t){return this.uploadFile(t),!1},submitUpload:function(){this.$refs.upload.submit()},alertInformation:function(t){this.$notify({title:"解析结果提示",dangerouslyUseHTMLString:!0,message:"<p>新增："+t.add_total+"</p>\n                  <p>成功："+t.success_total+"</p>\n                  <p>修改："+t.update_total+"</p>",duration:5e3,offset:100})}}),mounted:function(){this.resetPrisonTerms()}},n={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-row",{attrs:{gutter:0,id:"prisoner-import-index"}},[l("el-row",{staticClass:"download-box",attrs:{gutter:0}},[l("el-col",{attrs:{span:22,offset:2}},[l("span",[t._v("点击下载模板：")]),t._v(" "),l("a",{attrs:{href:t.prisonTermHref}},[t._v("刑期变动信息导入模板")])])],1),t._v(" "),l("el-row",{staticClass:"title-box",attrs:{gutter:0}},[l("el-col",{attrs:{span:22,offset:2}},[l("p",[t._v("上传模板文件：")]),t._v(" "),l("p",[t._v("限制文件后缀名为\n        "),l("el-tag",{attrs:{type:"danger"}},[t._v(".xls")])],1)])],1),t._v(" "),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:6,offset:1}},[l("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t._$agency+"/prison_term/upload","before-upload":t.beforeUpload,"file-list":t.fileList,"auto-upload":!1,limit:1,accept:".xls"}},[l("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xls文件")])],1)],1)],1),t._v(" "),t.prisonTerms.length?l("el-row",[l("el-table",{attrs:{data:t.prisonTerms}},[l("el-table-column",{attrs:{label:"罪犯编号",prop:"prisonerNumber"}}),t._v(" "),l("el-table-column",{attrs:{label:"减刑时间",prop:"changedate"}}),t._v(" "),l("el-table-column",{attrs:{label:"变动类型",prop:"changetype"}}),t._v(" "),l("el-table-column",{attrs:{label:"减刑始日",prop:"termStart"}}),t._v(" "),l("el-table-column",{attrs:{label:"减刑止日",prop:"termFinish"}}),t._v(" "),l("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("Date")(e.row.createdAt))+"\n        ")]}}])})],1)],1):t._e()],1)},staticRenderFns:[]},i=l("Aizv")(a,n,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=40.175dde7538ec2df95554.js.map